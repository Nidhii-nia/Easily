
<% if(Array.isArray(jobs) && jobs.length > 0) { %>
  <div class="jobs-wrapper">
    <% if(searchQuery) { %>
      <div class="mb-3">
        <h5>Search results for: "<%= searchQuery %>"</h5>
        <p class="text-muted"><%= jobs.length %> jobs found</p>
      </div>
    <% } %>
       <div class="jobs-wrapper">

  <% jobs.forEach(job => { %>
    <div class="job-card">

      <% if (job.featured) { %>
        <div class="featured-badge">
          Actively hiring <i class="bi bi-graph-up"></i>
        </div>
      <% } %>

      <h3 class="company-name"><%= job.company_name %></h3>
      <span class="category"><%=job.category%></span>
      <p class="job-title"><%= job.job_designation %></p>

      <div class="job-meta">
        <span>
          <i class="bi bi-geo-alt"></i>
          <%= job.job_location %>,  <%= job.job_type %>
        </span>
      </div>

      <div class="salary">
        <%= job.salary %>
      </div>

      <div class="skills">
        <% job.skills_required.forEach(skill => { %>
          <span class="skill"><%= skill %></span>
        <% }) %>
      </div>

      <a href="/job/<%= job.id %>" class="view-btn">
        View details
      </a>

    </div>
  <% }) %>

</div>
  </div>
  
<% } else if(Array.isArray(jobs) && jobs.length === 0) { %>
  <div class="text-center py-5">
    <i class="bi bi-search display-1 text-muted"></i>
    <h4 class="mt-3">No jobs found</h4>
    <p class="text-muted">No jobs match your search for "<%= searchQuery %>"</p>
    <a href="/jobs" class="btn btn-primary">View All Jobs</a>
  </div>
  
<% } else { %>
  <div class="alert alert-warning">
    Error: Jobs data is not in correct format
  </div>
<% } %>
